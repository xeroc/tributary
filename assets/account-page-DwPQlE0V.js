import{j as s,c as Mt}from"./ui-vendor-DuJGhRmH.js";import{R as I,r as P,L as Pt,J as kt}from"./wallet-adapter-CDXAdJ5O.js";import{C as st,b as it,u as jt,d as Dt,a as L}from"./copy-BLnP0yFP.js";import{c as Nt}from"./solana-vendor-Cd_D9A93.js";import{c as R}from"./createLucideIcon-CKsbMdpA.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Ct=R("pause",Tt);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Ft=R("play",At);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Yt=R("rotate-ccw",Et);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Wt=R("trash-2",It);function _t(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}Array(12).fill(0);let V=1;class Ot{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:a,...r}=e,i=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:V++,c=this.toasts.find(f=>f.id===i),l=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),c?this.toasts=this.toasts.map(f=>f.id===i?(this.publish({...f,...e,id:i,title:a}),{...f,...e,id:i,dismissible:l,title:a}):f):this.addToast({title:a,...r,dismissible:l,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(a=>a({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let a;t.loading!==void 0&&(a=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const r=Promise.resolve(e instanceof Function?e():e);let i=a!==void 0,c;const l=r.then(async o=>{if(c=["resolve",o],I.isValidElement(o))i=!1,this.create({id:a,type:"default",message:o});else if(Kt(o)&&!o.ok){i=!1;const h=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,y=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description,x=typeof h=="object"&&!I.isValidElement(h)?h:{message:h};this.create({id:a,type:"error",description:y,...x})}else if(o instanceof Error){i=!1;const h=typeof t.error=="function"?await t.error(o):t.error,y=typeof t.description=="function"?await t.description(o):t.description,x=typeof h=="object"&&!I.isValidElement(h)?h:{message:h};this.create({id:a,type:"error",description:y,...x})}else if(t.success!==void 0){i=!1;const h=typeof t.success=="function"?await t.success(o):t.success,y=typeof t.description=="function"?await t.description(o):t.description,x=typeof h=="object"&&!I.isValidElement(h)?h:{message:h};this.create({id:a,type:"success",description:y,...x})}}).catch(async o=>{if(c=["reject",o],t.error!==void 0){i=!1;const b=typeof t.error=="function"?await t.error(o):t.error,h=typeof t.description=="function"?await t.description(o):t.description,v=typeof b=="object"&&!I.isValidElement(b)?b:{message:b};this.create({id:a,type:"error",description:h,...v})}}).finally(()=>{i&&(this.dismiss(a),a=void 0),t.finally==null||t.finally.call(t)}),f=()=>new Promise((o,b)=>l.then(()=>c[0]==="reject"?b(c[1]):o(c[1])).catch(b));return typeof a!="string"&&typeof a!="number"?{unwrap:f}:Object.assign(a,{unwrap:f})},this.custom=(e,t)=>{const a=t?.id||V++;return this.create({jsx:e(a),id:a,...t}),a},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const k=new Ot,zt=(n,e)=>{const t=e?.id||V++;return k.addToast({title:n,...e,id:t}),t},Kt=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",Rt=zt,Xt=()=>k.toasts,Ht=()=>k.getActiveToasts(),S=Object.assign(Rt,{success:k.success,info:k.info,warning:k.warning,error:k.error,custom:k.custom,message:k.message,promise:k.promise,dismiss:k.dismiss,loading:k.loading},{getHistory:Xt,getToasts:Ht});_t("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const Lt=864e5,Ut=6e4,Vt=36e5,z=43200,nt=1440,at=Symbol.for("constructDateFrom");function A(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&at in n?n[at](e):n instanceof Date?new n.constructor(e):new Date(e)}function j(n,e){return A(n,n)}function $t(n,e,t){const a=j(n);return isNaN(e)?A(n,NaN):(e&&a.setDate(a.getDate()+e),a)}function qt(n,e,t){const a=j(n);if(isNaN(e))return A(n,NaN);if(!e)return a;const r=a.getDate(),i=A(n,a.getTime());i.setMonth(a.getMonth()+e+1,0);const c=i.getDate();return r>=c?i:(a.setFullYear(i.getFullYear(),i.getMonth(),r),a)}function W(n,e,t){const{years:a=0,months:r=0,weeks:i=0,days:c=0,hours:l=0,minutes:f=0,seconds:o=0}=e,b=j(n),h=r||a?qt(b,r+a*12):b,y=c||i?$t(h,c+i*7):h,v=f+l*60,D=(o+v*60)*1e3;return A(n,+y+D)}let Jt={};function ct(){return Jt}function K(n){const e=j(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function T(n,...e){const t=A.bind(null,n||e.find(a=>typeof a=="object"));return e.map(t)}function rt(n,e){const t=j(n);return t.setHours(0,0,0,0),t}function Bt(n,e,t){const[a,r]=T(t?.in,n,e),i=rt(a),c=rt(r),l=+i-K(i),f=+c-K(c);return Math.round((l-f)/Lt)}function F(n,e){const t=+j(n)-+j(e);return t<0?-1:t>0?1:t}function Qt(n){return A(n,Date.now())}function Gt(n,e,t){const[a,r]=T(t?.in,n,e),i=a.getFullYear()-r.getFullYear(),c=a.getMonth()-r.getMonth();return i*12+c}function Zt(n,e,t){const[a,r]=T(t?.in,n,e);return a.getFullYear()-r.getFullYear()}function te(n,e,t){const[a,r]=T(t?.in,n,e),i=ot(a,r),c=Math.abs(Bt(a,r));a.setDate(a.getDate()-i*c);const l=+(ot(a,r)===-i),f=i*(c-l);return f===0?0:f}function ot(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function $(n){return e=>{const a=(n?Math[n]:Math.trunc)(e);return a===0?0:a}}function ee(n,e,t){const[a,r]=T(t?.in,n,e),i=(+a-+r)/Vt;return $(t?.roundingMethod)(i)}function lt(n,e){return+j(n)-+j(e)}function ne(n,e,t){const a=lt(n,e)/Ut;return $(t?.roundingMethod)(a)}function ae(n,e){const t=j(n);return t.setHours(23,59,59,999),t}function re(n,e){const t=j(n),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}function oe(n,e){const t=j(n);return+ae(t)==+re(t)}function dt(n,e,t){const[a,r,i]=T(t?.in,n,n,e),c=F(r,i),l=Math.abs(Gt(r,i));if(l<1)return 0;r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-c*l);let f=F(r,i)===-c;oe(a)&&l===1&&F(a,i)===1&&(f=!1);const o=c*(l-+f);return o===0?0:o}function ut(n,e,t){const a=lt(n,e)/1e3;return $(t?.roundingMethod)(a)}function se(n,e,t){const[a,r]=T(t?.in,n,e),i=F(a,r),c=Math.abs(Zt(a,r));a.setFullYear(1584),r.setFullYear(1584);const l=F(a,r)===-i,f=i*(c-+l);return f===0?0:f}function ie(n,e){const[t,a]=T(n,e.start,e.end);return{start:t,end:a}}const ce={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},le=(n,e,t)=>{let a;const r=ce[n];return typeof r=="string"?a=r:e===1?a=r.one:a=r.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+a:a+" ago":a};function U(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const de={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},me={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fe={date:U({formats:de,defaultWidth:"full"}),time:U({formats:ue,defaultWidth:"full"}),dateTime:U({formats:me,defaultWidth:"full"})},he={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ye=(n,e,t,a)=>he[n];function _(n){return(e,t)=>{const a=t?.context?String(t.context):"standalone";let r;if(a==="formatting"&&n.formattingValues){const c=n.defaultFormattingWidth||n.defaultWidth,l=t?.width?String(t.width):c;r=n.formattingValues[l]||n.formattingValues[c]}else{const c=n.defaultWidth,l=t?.width?String(t.width):n.defaultWidth;r=n.values[l]||n.values[c]}const i=n.argumentCallback?n.argumentCallback(e):e;return r[i]}}const pe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ge={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},be={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ve={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},we={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Se=(n,e)=>{const t=Number(n),a=t%100;if(a>20||a<10)switch(a%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Me={ordinalNumber:Se,era:_({values:pe,defaultWidth:"wide"}),quarter:_({values:ge,defaultWidth:"wide",argumentCallback:n=>n-1}),month:_({values:be,defaultWidth:"wide"}),day:_({values:xe,defaultWidth:"wide"}),dayPeriod:_({values:ve,defaultWidth:"wide",formattingValues:we,defaultFormattingWidth:"wide"})};function O(n){return(e,t={})=>{const a=t.width,r=a&&n.matchPatterns[a]||n.matchPatterns[n.defaultMatchWidth],i=e.match(r);if(!i)return null;const c=i[0],l=a&&n.parsePatterns[a]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(l)?ke(l,h=>h.test(c)):Pe(l,h=>h.test(c));let o;o=n.valueCallback?n.valueCallback(f):f,o=t.valueCallback?t.valueCallback(o):o;const b=e.slice(c.length);return{value:o,rest:b}}}function Pe(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function ke(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function je(n){return(e,t={})=>{const a=e.match(n.matchPattern);if(!a)return null;const r=a[0],i=e.match(n.parsePattern);if(!i)return null;let c=n.valueCallback?n.valueCallback(i[0]):i[0];c=t.valueCallback?t.valueCallback(c):c;const l=e.slice(r.length);return{value:c,rest:l}}}const De=/^(\d+)(th|st|nd|rd)?/i,Ne=/\d+/i,Te={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ce={any:[/^b/i,/^(a|c)/i]},Ae={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Fe={any:[/1/i,/2/i,/3/i,/4/i]},Ee={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ie={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},We={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Oe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ze={ordinalNumber:je({matchPattern:De,parsePattern:Ne,valueCallback:n=>parseInt(n,10)}),era:O({matchPatterns:Te,defaultMatchWidth:"wide",parsePatterns:Ce,defaultParseWidth:"any"}),quarter:O({matchPatterns:Ae,defaultMatchWidth:"wide",parsePatterns:Fe,defaultParseWidth:"any",valueCallback:n=>n+1}),month:O({matchPatterns:Ee,defaultMatchWidth:"wide",parsePatterns:Ye,defaultParseWidth:"any"}),day:O({matchPatterns:Ie,defaultMatchWidth:"wide",parsePatterns:We,defaultParseWidth:"any"}),dayPeriod:O({matchPatterns:_e,defaultMatchWidth:"any",parsePatterns:Oe,defaultParseWidth:"any"})},mt={code:"en-US",formatDistance:le,formatLong:fe,formatRelative:ye,localize:Me,match:ze,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ke(n,e,t){const a=ct(),r=t?.locale??a.locale??mt,i=2520,c=F(n,e);if(isNaN(c))throw new RangeError("Invalid time value");const l=Object.assign({},t,{addSuffix:t?.addSuffix,comparison:c}),[f,o]=T(t?.in,...c>0?[e,n]:[n,e]),b=ut(o,f),h=(K(o)-K(f))/1e3,y=Math.round((b-h)/60);let v;if(y<2)return t?.includeSeconds?b<5?r.formatDistance("lessThanXSeconds",5,l):b<10?r.formatDistance("lessThanXSeconds",10,l):b<20?r.formatDistance("lessThanXSeconds",20,l):b<40?r.formatDistance("halfAMinute",0,l):b<60?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",1,l):y===0?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",y,l);if(y<45)return r.formatDistance("xMinutes",y,l);if(y<90)return r.formatDistance("aboutXHours",1,l);if(y<nt){const x=Math.round(y/60);return r.formatDistance("aboutXHours",x,l)}else{if(y<i)return r.formatDistance("xDays",1,l);if(y<z){const x=Math.round(y/nt);return r.formatDistance("xDays",x,l)}else if(y<z*2)return v=Math.round(y/z),r.formatDistance("aboutXMonths",v,l)}if(v=dt(o,f),v<12){const x=Math.round(y/z);return r.formatDistance("xMonths",x,l)}else{const x=v%12,D=Math.trunc(v/12);return x<3?r.formatDistance("aboutXYears",D,l):x<9?r.formatDistance("overXYears",D,l):r.formatDistance("almostXYears",D+1,l)}}function Re(n,e){return Ke(n,Qt(n),e)}const Xe=["years","months","weeks","days","hours","minutes","seconds"];function He(n,e){const t=ct(),a=e?.locale??t.locale??mt,r=e?.format??Xe,i=e?.zero??!1,c=e?.delimiter??" ";return a.formatDistance?r.reduce((f,o)=>{const b=`x${o.replace(/(^.)/,y=>y.toUpperCase())}`,h=n[o];return h!==void 0&&(i||n[o])?f.concat(a.formatDistance(b,h)):f},[]).join(c):""}function Le(n,e){const{start:t,end:a}=ie(e?.in,n),r={},i=se(a,t);i&&(r.years=i);const c=W(t,{years:r.years}),l=dt(a,c);l&&(r.months=l);const f=W(c,{months:r.months}),o=te(a,f);o&&(r.days=o);const b=W(f,{days:r.days}),h=ee(a,b);h&&(r.hours=h);const y=W(b,{hours:r.hours}),v=ne(a,y);v&&(r.minutes=v);const x=W(y,{minutes:r.minutes}),D=ut(a,x);return D&&(r.seconds=D),r}function Ue({publicKey:n,className:e=""}){const[t,a]=P.useState(!1),r=c=>{const l=c.toString();return`${l.slice(0,4)}...${l.slice(-4)}`},i=async()=>{try{await navigator.clipboard.writeText(n.toBase58()),a(!0),setTimeout(()=>{a(!1)},2e3)}catch{S.error("Copying to clipboard failed!")}};return s.jsx("span",{className:`inline-flex items-center gap-1 ${e}`,children:t?s.jsxs("span",{className:"text-xs sm:text-sm text-green-500 flex items-center gap-1.5",children:[s.jsx(st,{size:16,className:"text-green-500"}),"Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-mono text-sm",children:r(n)}),s.jsx(Mt,{isIconOnly:!0,size:"sm",variant:"light",onPress:i,className:"ml-1 min-w-unit-6 w-unit-6 h-unit-6",title:"Copy full public key",children:s.jsx(it,{size:13,className:"text-gray-500 hover:text-gray-700"})})]})})}function Qe(){const{connection:n}=Pt(),e=kt(),t=jt(e,n),[a,r]=P.useState(!0),[i,c]=P.useState(!1),[l,f]=P.useState([]),[o,b]=P.useState(null),[h,y]=P.useState(new Map),[v,x]=P.useState(new Set),[D,q]=P.useState(new Set),[J,B]=P.useState(new Set),[ft,Q]=P.useState(null);P.useEffect(()=>{e.publicKey?.toString()&&c(!1)},[e.publicKey]),P.useEffect(()=>{(async()=>{if(!(!t||i)&&e.publicKey)try{r(!0);const u=await t.getAllUserPaymentsByOwner(e.publicKey),g=new Map,m=new Map;for(const p of u){const M=await t.getPaymentPoliciesByUser(p.publicKey);for(const C of M){const E=C.account.userPayment.toString();if(!g.has(E)){const Y=await t.getUserPayment(C.account.userPayment);if(Y){if(Y.owner.toString()!=e.publicKey.toString())continue;g.set(E,{userPaymentAddress:C.account.userPayment,userPayment:Y,policies:[]});const et=Y.tokenMint.toString();if(!m.has(et))try{const H=await Nt(n,Y.tokenMint);m.set(et,{decimals:H.decimals,symbol:"TOKEN"})}catch(H){console.error("Error fetching mint info:",H)}}}const tt=g.get(E);tt&&tt.policies.push(C)}}if(m.set("4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",{decimals:6,symbol:"USDC"}),f(Array.from(g.values())),y(m),Array.from(g.values()).length>0){const p=Array.from(g.values())[0].policies[0];b(p)}c(!0)}catch(u){console.error("Error fetching payment policies:",u)}finally{r(!1)}})()},[t,i,n,e.publicKey]);const ht=d=>{const u=d.policyType;return u.subscription?Number(u.subscription.amount).toString():null},G=(d,u)=>{if(!d)return"N/A";const g=h.get(u.toString());if(!g)return d;const p=(Number(d)/Math.pow(10,g.decimals)).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:g.decimals});return g.symbol?`${p} ${g.symbol}`:p},yt=d=>{const u=d.policyType;let g=0;if(u.subscription){const p=u.subscription.paymentFrequency,M=Object.keys(p)[0];switch(M){case"daily":return M;case"weekly":return M;case"monthly":return M;case"quarterly":return M;case"semiAnnually":return M;case"annually":return M;case"custom":g=p.custom[0].toNumber();break;default:g=0}}if(g===0)return"N/A";const m=Le({start:0,end:g*1e3});return He(m,{format:["days","hours","minutes"]})},pt=d=>{if(!d.policyType.subscription.nextPaymentDue)return"N/A";const u=new Date(d.policyType.subscription.nextPaymentDue.toNumber()*1e3);return u<new Date?"Overdue":Re(u,{addSuffix:!0})},Z=d=>{const u=d.status;return u.active?"Active":u.paused?"Paused":u.cancelled?"Cancelled":u.completed?"Completed":"Unknown"},gt=d=>{const u=d.policyType;return u.subscription?"Subscription":u.oneTime?"One Time":u.installment?"Installment":"Unknown"},X=d=>{if(!d.memo||d.memo.length===0)return"no memo";const u=Dt(d.memo);return u.length?u:"no memo"},bt=d=>d.policyType.subscription.nextPaymentDue?new Date(d.policyType.subscription.nextPaymentDue.toNumber()*1e3)<=new Date:!1,xt=(d,u)=>{navigator.clipboard.writeText(d),Q(u),setTimeout(()=>Q(null),2e3)},vt=async(d,u,g)=>{if(!t||!e.publicKey||!e.connected)return S.error("Wallet not connected");try{const m=await t.getPaymentGateway(u.gateway);if(!m)return S.error("Gateway not found");if(m.authority.toString()!==e.publicKey.toString()&&g.owner.toString()!=e.publicKey.toString())return S.error("Only the gateway authority can execute payments");x(C=>new Set(C).add(d.toString()));const p=await t.executePayment(d),M=await L(p,e,n);S.success(`Payment executed! TX: ${M}`),c(!1)}catch(m){console.error("Error:",m),S.error(m instanceof Error?m.message:"Failed to execute payment")}finally{x(m=>{const p=new Set(m);return p.delete(d.toString()),p})}},wt=async(d,u,g)=>{if(!t||!e.publicKey||!e.connected)return S.error("Wallet not connected");if(g.owner.toString()!==e.publicKey.toString())return S.error("Only the policy owner can change status");try{q(E=>new Set(E).add(d.toString()));const p=u.status.active,M=p?{paused:{}}:{active:{}},C=await t.changePaymentPolicyStatus(g.tokenMint,u.policyId,M);await L([C],e,n),S.success(`Payment policy ${p?"paused":"resumed"}!`),c(!1)}catch(m){console.error("Error:",m),S.error(m instanceof Error?m.message:"Failed to toggle status")}finally{q(m=>{const p=new Set(m);return p.delete(d.toString()),p})}},St=async(d,u,g)=>{if(!t||!e.publicKey||!e.connected)return S.error("Wallet not connected");if(g.owner.toString()!==e.publicKey.toString())return S.error("Only the policy owner can delete");if(confirm("Delete this payment policy? This cannot be undone."))try{B(p=>new Set(p).add(d.toString()));const m=await t.deletePaymentPolicy(g.tokenMint,u.policyId);await L([m],e,n),S.success("Payment policy deleted!"),c(!1)}catch(m){console.error("Error:",m),S.error(m instanceof Error?m.message:"Failed to delete")}finally{B(m=>{const p=new Set(m);return p.delete(d.toString()),p})}};if(!e.connected)return s.jsx("div",{className:"flex items-center justify-center min-h-[500px]",children:s.jsx("p",{className:"text-lg text-gray-600",children:"Please connect your wallet to view your account"})});if(a)return s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[500px] gap-4",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-[var(--color-primary)] border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"text-sm uppercase tracking-wide",style:{fontFamily:"var(--font-secondary)",color:"var(--color-primary)"},children:"Loading..."})]});if(l.length<1)return s.jsx("div",{className:"flex items-center justify-center min-h-[500px]",children:s.jsx("p",{className:"text-lg text-gray-600",children:"You don't have any Subscriptions yet"})});const N=o?l.find(d=>d.policies.some(u=>u.publicKey.toString()===o.publicKey.toString())):null,w=({label:d,value:u,copyable:g})=>s.jsxs("div",{className:"flex items-center py-1 border-b border-gray-100 last:border-0",children:[s.jsx("span",{className:"min-w-[120px] md:min-w-[200px] text-sm text-gray-600 uppercase font-medium",children:d}),s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("span",{className:"text-sm break-all font-mono text-gray-700",children:u}),g&&s.jsx("button",{onClick:()=>xt(u,d),className:"p-1.5 hover:bg-gray-100 rounded transition-colors flex-shrink-0",title:"Copy to clipboard",children:ft===d?s.jsx(st,{className:"h-4 w-4 text-green-600"}):s.jsx(it,{className:"h-4 w-4 text-gray-500"})})]})]});return s.jsxs("div",{className:"flex flex-col md:flex-row",children:[s.jsx("div",{className:"w-full md:w-[368px] md:border-r md:border-gray-200",children:s.jsx("div",{className:"flex flex-col",children:l.map(({policies:d,userPayment:u})=>{const g=d.map(m=>{const p=o?.publicKey.toString()===m.publicKey.toString();return s.jsxs("div",{onClick:()=>b(m),className:`min-h-[3rem] flex items-center px-4 cursor-pointer transition-colors hover:bg-gray-200 ${p?"border-l-primary border-l-5":""}`,children:[s.jsx("div",{className:"w-8 h-8 flex items-center justify-center border border-[var(--color-primary)] rounded text-xs",style:{backgroundColor:p?"#fff":"transparent"},children:m.account.policyId}),s.jsxs("div",{className:"ml-3 flex flex-col gap-1 text-sm p-2",children:[s.jsx("span",{className:"uppercase",children:s.jsx(Ue,{publicKey:m.account.recipient})}),s.jsxs("span",{className:"text-xs text-gray-500",children:[X(m.account)," | ",m.account.paymentCount," payments"]})]})]},m.publicKey.toString())});return s.jsxs("div",{children:[s.jsx("div",{className:"h-12 flex items-center justify-between px-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"uppercase text-sm",children:h.get(u.tokenMint.toString())?.symbol??"unknown"}),s.jsxs("span",{className:"uppercase text-sm",children:["(",l.reduce((m,p)=>m+p.policies.length,0),")"]})]})}),s.jsx("div",{children:g})]})})})}),s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[s.jsx("div",{className:"h-12 flex items-center px-4 md:px-6 border-b border-gray-200",children:s.jsx("span",{className:"uppercase text-sm",children:o?`Policy-${o.account.policyId} subscription`:"Select a policy"})}),o&&N&&s.jsxs("div",{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 18 18",fill:"none",stroke:"var(--color-primary)",strokeWidth:"2",children:s.jsx("circle",{cx:"9",cy:"9",r:"7"})}),s.jsx("span",{className:"underline font-medium",children:"Details"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>vt(o.publicKey,o.account,N.userPayment),disabled:!bt(o.account)||v.has(o.publicKey.toString()),className:"p-2 border border-blue-600 rounded hover:bg-blue-600 hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:v.has(o.publicKey.toString())?s.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):s.jsx(Ft,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>wt(o.publicKey,o.account,N.userPayment),disabled:D.has(o.publicKey.toString()),className:"p-2 border border-orange-600 rounded hover:bg-orange-600 hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:D.has(o.publicKey.toString())?s.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):Z(o.account)==="Active"?s.jsx(Ct,{className:"h-4 w-4"}):s.jsx(Yt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>St(o.publicKey,o.account,N.userPayment),disabled:J.has(o.publicKey.toString()),className:"p-2 border border-red-600 rounded hover:bg-red-600 hover:text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:J.has(o.publicKey.toString())?s.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):s.jsx(Wt,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"max-w-[700px]",children:[s.jsx(w,{label:"Policy Address",value:o.publicKey.toString(),copyable:!0}),s.jsx(w,{label:"Owner",value:N.userPayment.owner.toString(),copyable:!0}),s.jsx(w,{label:"Policy ID",value:`#${o.account.policyId}`}),s.jsx(w,{label:"Type",value:gt(o.account)}),s.jsx(w,{label:"Status",value:Z(o.account)}),s.jsx(w,{label:"Recipient",value:o.account.recipient.toString(),copyable:!0}),s.jsx(w,{label:"Gateway",value:o.account.gateway.toString(),copyable:!0}),s.jsx(w,{label:"Token Mint",value:N.userPayment.tokenMint.toString(),copyable:!0}),s.jsx(w,{label:"Amount",value:G(ht(o.account),N.userPayment.tokenMint)}),s.jsx(w,{label:"Interval",value:yt(o.account)}),s.jsx(w,{label:"Next Payment",value:pt(o.account)}),s.jsx(w,{label:"Total Paid",value:G(o.account.totalPaid.toString(),N.userPayment.tokenMint)}),s.jsx(w,{label:"Payments",value:o.account.paymentCount.toString()}),s.jsx(w,{label:"Created",value:new Date(N.userPayment.createdAt.toNumber()*1e3).toLocaleString()}),X(o.account)&&s.jsx(w,{label:"Memo",value:X(o.account)})]})]})]})]})}export{Qe as default};
