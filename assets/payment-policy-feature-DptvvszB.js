const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-htdWSW-k.js","assets/ui-vendor-DHIijkHp.js","assets/wallet-adapter-C3x886Vx.js","assets/solana-vendor-Bta6kJ9r.js"])))=>i.map(i=>d[i]);
import{j as s,s as ce,l as W,i as ae,c as Le,e as ne,t as We,f as Ue,g as ze,h as Qe,L as Je,_ as Xe,A as Ye,k as Ze,n as De,u as er,$ as rr,o as tr,p as ar,q as nr,r as sr,v as D,w as je,x as or,y as ir}from"./ui-vendor-DHIijkHp.js";import{L as pe,J as me,r as x}from"./wallet-adapter-C3x886Vx.js";import{P as J,B as re,b as lr,V as cr}from"./solana-vendor-Bta6kJ9r.js";import{u as dr,d as Ce,g as ur,c as Te,a as gr,T as pr,C as mr,b as fr}from"./client-D6BQoH8w.js";import{u as br,a as oe,b as yr,g as hr,c as Pe}from"./index-CwZFxGJh.js";import{c as wr}from"./createLucideIcon-Dfw76X0R.js";import{h as vr}from"./prism-CYTwnUWA.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],kr=wr("loader-circle",xr);function jr({formData:e,onFormDataChange:a}){const{connection:n}=pe(),r=me(),t=dr(r,n),o=br(),[i,b]=x.useState(!1),[c,C]=x.useState([]),[l,S]=x.useState(!1),[y,T]=x.useState(!1),k=oe(yr),G=oe(hr),q=oe(Pe),[P,z]=x.useState(!0);x.useEffect(()=>{t&&!y&&((async()=>{if(!(!t||y))try{S(!0);const j=await t.getAllPaymentGateway();C(j),j.length>0&&!e.gateway&&a({...e,gateway:j[0].publicKey.toString()}),T(!0)}catch(j){console.error("Error fetching payment gateways:",j)}finally{S(!1)}})(),a({...e,tokenMint:k[0]?.address}))},[t,y,e,a,k]),x.useEffect(()=>{z(V(e.recipient))},[e.recipient]),x.useEffect(()=>{r.publicKey&&!e.recipient&&a({...e,recipient:r.publicKey.toString()})},[r.publicKey,e,a]);const E=h=>{const{name:j,value:O,type:H}=h.target,L={...e,[j]:H==="checkbox"?h.target.checked:O};a(L),j==="recipient"&&z(V(O))},V=h=>{if(!h)return!0;try{return new J(h),!0}catch{return!1}},K=async()=>{if(!r.publicKey||!r.connected){ne({title:"Error",description:"Please connect your wallet",color:"danger"});return}if(!t){ne({title:"Error",description:"SDK not available",color:"danger"});return}b(!0);try{const h=ur(e.frequency,Number(e.intervalSeconds)),j=Te(e.memo,64);let O=new re(1e10);e.approvalAmount&&(O=new re(e.approvalAmount));const H=parseFloat(e.amount)*Math.pow(10,q(e.tokenMint)),L=await t.createSubscriptionInstruction(new J(e.tokenMint),new J(e.recipient),new J(e.gateway),new re(H),!1,null,h,j,null,O);await gr(L,r,n),ne({title:"Success",description:"Payment policy created successfully!",color:"success"}),setTimeout(()=>o("/account"),3e3)}catch(h){const j=h instanceof Error?h.message:"Unknown error occurred";ne({title:"Error",description:"Failed to create payment policy: "+j,color:"danger"}),console.error("Error creating policy:",h)}finally{b(!1)}},I="text-xs font-medium text-[var(--color-primary)] uppercase mb-1";return s.jsxs("div",{className:"max-w-[700px] space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Create a new recurring payment policy and get integration code."}),s.jsx("div",{className:"items-center",children:s.jsxs("div",{className:"max-w-3xl",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"tokenMint",className:I,children:"Token"}),s.jsx(ce,{id:"tokenMint",placeholder:"Select token",selectedKeys:e.tokenMint?[e.tokenMint]:[],onSelectionChange:h=>{const j=Array.from(h)[0];a({...e,tokenMint:j})},required:!0,className:"w-full",children:k.map(h=>s.jsx(W,{description:h.name??"No token name",children:h.symbol},h.address))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"recipient",className:I,children:"Recipient Address"}),s.jsx(ae,{id:"recipient",name:"recipient",value:e.recipient,onChange:E,placeholder:"Recipient address",required:!0,className:`w-full ${P?"":"border-red-500"}`,isInvalid:!P,errorMessage:P?void 0:"Invalid Solana address"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"gateway",className:I,children:"Processor"}),l?s.jsx("div",{className:"flex items-center justify-center h-10 border border-[var(--color-primary)] rounded",children:s.jsx("div",{className:"w-4 h-4 border-2 border-[var(--color-primary)] border-t-transparent rounded-full animate-spin"})}):s.jsx(ce,{id:"gateway",name:"gateway",selectedKeys:e.gateway?[e.gateway]:[],onSelectionChange:h=>{const j=Array.from(h)[0];a({...e,gateway:j})},placeholder:"Select gateway",required:!0,className:"w-full",children:c.map(h=>s.jsx(W,{description:`${Ce(h.account.url)}`,children:Ce(h.account.name)},h.publicKey.toString()))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"amount",className:I,children:"Amount"}),s.jsx(ae,{id:"amount",name:"amount",type:"number",value:e.amount,onChange:E,placeholder:"e.g., 10",required:!0,step:"0.00000001",min:"0.00000001",className:"w-full",endContent:e.tokenMint&&G(e.tokenMint)&&s.jsx("div",{className:"pointer-events-none flex items-center",children:s.jsx("span",{className:"text-default-400 text-small",children:G(e.tokenMint)})})})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"frequency",className:I,children:"Frequency"}),s.jsxs(ce,{id:"frequency",name:"frequency",selectedKeys:e.frequency?[e.frequency]:[],onSelectionChange:h=>{const j=Array.from(h)[0];a({...e,frequency:j})},placeholder:"Select frequency",className:"w-full",children:[s.jsx(W,{children:"Daily"},"daily"),s.jsx(W,{children:"Weekly"},"weekly"),s.jsx(W,{children:"Monthly"},"monthly"),s.jsx(W,{children:"Quarterly"},"quarterly"),s.jsx(W,{children:"Semi-Annually"},"semiAnnually"),s.jsx(W,{children:"Annually"},"annually"),s.jsx(W,{children:"Custom"},"custom")]})]}),s.jsxs("div",{className:e.frequency!="custom"?"opacity-50":"",children:[s.jsx("label",{htmlFor:"intervalSeconds",className:I,children:"Custom (seconds)"}),s.jsx(ae,{id:"intervalSeconds",name:"intervalSeconds",type:"number",value:e.intervalSeconds,onChange:E,placeholder:"e.g., 2592000",required:!0,min:"1",className:"w-full",disabled:e.frequency!="custom"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"memo",className:I,children:"Memo (optional)"}),s.jsx(ae,{id:"memo",name:"memo",value:e.memo,onChange:E,placeholder:"Payment description",maxLength:64,className:"w-full"})]}),s.jsx(Le,{isDisabled:i||!r.connected||!P||!e.amount,className:"w-full mt-6 text-sm uppercase text-white",color:"primary",isLoading:i,onClick:K,children:i?"Creating...":"Create Payment Policy"})]})})]})}var Cr={default:"bg-default text-default-foreground",primary:"bg-primary text-primary-foreground",secondary:"bg-secondary text-secondary-foreground",success:"bg-success text-success-foreground",warning:"bg-warning text-warning-foreground",danger:"bg-danger text-danger-foreground"},Sr={default:"shadow-lg shadow-default/50 bg-default text-default-foreground",primary:"shadow-lg shadow-primary/40 bg-primary text-primary-foreground",secondary:"shadow-lg shadow-secondary/40 bg-secondary text-secondary-foreground",success:"shadow-lg shadow-success/40 bg-success text-success-foreground",warning:"shadow-lg shadow-warning/40 bg-warning text-warning-foreground",danger:"shadow-lg shadow-danger/40 bg-danger text-danger-foreground"},Nr={default:"bg-transparent border-default text-foreground",primary:"bg-transparent border-primary text-primary",secondary:"bg-transparent border-secondary text-secondary",success:"bg-transparent border-success text-success",warning:"bg-transparent border-warning text-warning",danger:"bg-transparent border-danger text-danger"},Ar={default:"bg-default/40 text-default-700",primary:"bg-primary/20 text-primary-600",secondary:"bg-secondary/20 text-secondary-600",success:"bg-success/20 text-success-700 dark:text-success",warning:"bg-warning/20 text-warning-700 dark:text-warning",danger:"bg-danger/20 text-danger-600 dark:text-danger-500"},Mr={default:"border-default bg-default-100 text-default-foreground",primary:"border-default bg-default-100 text-primary",secondary:"border-default bg-default-100 text-secondary",success:"border-default bg-default-100 text-success",warning:"border-default bg-default-100 text-warning",danger:"border-default bg-default-100 text-danger"},zr={default:"bg-transparent text-default-foreground",primary:"bg-transparent text-primary",secondary:"bg-transparent text-secondary",success:"bg-transparent text-success",warning:"bg-transparent text-warning",danger:"bg-transparent text-danger"},Tr={default:"border-default text-default-foreground",primary:"border-primary text-primary",secondary:"border-secondary text-secondary",success:"border-success text-success",warning:"border-warning text-warning",danger:"border-danger text-danger"},d={solid:Cr,shadow:Sr,bordered:Nr,flat:Ar,faded:Mr,light:zr,ghost:Tr},Pr={".spinner-bar-animation":{"animation-delay":"calc(-1.2s + (0.1s * var(--bar-index)))",transform:"rotate(calc(30deg * var(--bar-index)))translate(140%)"},".spinner-dot-animation":{"animation-delay":"calc(250ms * var(--dot-index))"},".spinner-dot-blink-animation":{"animation-delay":"calc(200ms * var(--dot-index))"}},Ir={".leading-inherit":{"line-height":"inherit"},".bg-img-inherit":{"background-image":"inherit"},".bg-clip-inherit":{"background-clip":"inherit"},".text-fill-inherit":{"-webkit-text-fill-color":"inherit"},".tap-highlight-transparent":{"-webkit-tap-highlight-color":"transparent"},".input-search-cancel-button-none":{"&::-webkit-search-cancel-button":{"-webkit-appearance":"none"}}},_r={".scrollbar-hide":{"-ms-overflow-style":"none","scrollbar-width":"none","&::-webkit-scrollbar":{display:"none"}},".scrollbar-default":{"-ms-overflow-style":"auto","scrollbar-width":"auto","&::-webkit-scrollbar":{display:"block"}}},Vr={".text-tiny":{"font-size":"var(--heroui-font-size-tiny)","line-height":"var(--heroui-line-height-tiny)"},".text-small":{"font-size":"var(--heroui-font-size-small)","line-height":"var(--heroui-line-height-small)"},".text-medium":{"font-size":"var(--heroui-font-size-medium)","line-height":"var(--heroui-line-height-medium)"},".text-large":{"font-size":"var(--heroui-font-size-large)","line-height":"var(--heroui-line-height-large)"}},$="250ms",Br={".transition-background":{"transition-property":"background","transition-timing-function":"ease","transition-duration":$},".transition-colors-opacity":{"transition-property":"color, background-color, border-color, text-decoration-color, fill, stroke, opacity","transition-timing-function":"ease","transition-duration":$},".transition-width":{"transition-property":"width","transition-timing-function":"ease","transition-duration":$},".transition-height":{"transition-property":"height","transition-timing-function":"ease","transition-duration":$},".transition-size":{"transition-property":"width, height","transition-timing-function":"ease","transition-duration":$},".transition-left":{"transition-property":"left","transition-timing-function":"ease","transition-duration":$},".transition-transform-opacity":{"transition-property":"transform, scale, opacity rotate","transition-timing-function":"ease","transition-duration":$},".transition-transform-background":{"transition-property":"transform, scale, background","transition-timing-function":"ease","transition-duration":$},".transition-transform-colors":{"transition-property":"transform, scale, color, background, background-color, border-color, text-decoration-color, fill, stroke","transition-timing-function":"ease","transition-duration":$},".transition-transform-colors-opacity":{"transition-property":"transform, scale, color, background, background-color, border-color, text-decoration-color, fill, stroke, opacity","transition-timing-function":"ease","transition-duration":$}},Gr={...Ir,...Br,..._r,...Vr,...Pr},se=["small","medium","large"],Se={theme:{spacing:["divider"],radius:se},classGroups:{shadow:[{shadow:se}],opacity:[{opacity:["disabled"]}],"font-size":[{text:["tiny",...se]}],"border-w":[{border:se}],"bg-image":["bg-stripe-gradient-default","bg-stripe-gradient-primary","bg-stripe-gradient-secondary","bg-stripe-gradient-success","bg-stripe-gradient-warning","bg-stripe-gradient-danger"],transition:Object.keys(Gr).filter(e=>e.includes(".transition")).map(e=>e.replace(".",""))}},qr=/\s+/g,ue=e=>typeof e!="string"||!e?e:e.replace(qr," ").trim(),ie=(...e)=>{let a=[],n=r=>{if(!r&&r!==0&&r!==0n)return;if(Array.isArray(r)){for(let o=0,i=r.length;o<i;o++)n(r[o]);return}let t=typeof r;if(t==="string"||t==="number"||t==="bigint"){if(t==="number"&&r!==r)return;a.push(String(r))}else if(t==="object"){let o=Object.keys(r);for(let i=0,b=o.length;i<b;i++){let c=o[i];r[c]&&a.push(c)}}};for(let r=0,t=e.length;r<t;r++){let o=e[r];o!=null&&n(o)}return a.length>0?ue(a.join(" ")):void 0},Ne=e=>e===!1?"false":e===!0?"true":e===0?"0":e,R=e=>{if(!e||typeof e!="object")return!0;for(let a in e)return!1;return!0},Rr=(e,a)=>{if(e===a)return!0;if(!e||!a)return!1;let n=Object.keys(e),r=Object.keys(a);if(n.length!==r.length)return!1;for(let t=0;t<n.length;t++){let o=n[t];if(!r.includes(o)||e[o]!==a[o])return!1}return!0},Ae=(e,a)=>{for(let n in a)if(Object.prototype.hasOwnProperty.call(a,n)){let r=a[n];n in e?e[n]=ie(e[n],r):e[n]=r}return e},Ie=(e,a)=>{for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?Ie(r,a):r&&a.push(r)}},_e=(...e)=>{let a=[];Ie(e,a);let n=[];for(let r=0;r<a.length;r++)a[r]&&n.push(a[r]);return n},ge=(e,a)=>{let n={};for(let r in e){let t=e[r];if(r in a){let o=a[r];Array.isArray(t)||Array.isArray(o)?n[r]=_e(o,t):typeof t=="object"&&typeof o=="object"&&t&&o?n[r]=ge(t,o):n[r]=o+" "+t}else n[r]=t}for(let r in a)r in e||(n[r]=a[r]);return n},Er={twMerge:!0,twMergeConfig:{},responsiveVariants:!1};function Or(){let e=null,a={},n=!1;return{get cachedTwMerge(){return e},set cachedTwMerge(r){e=r},get cachedTwMergeConfig(){return a},set cachedTwMergeConfig(r){a=r},get didTwMergeConfigChange(){return n},set didTwMergeConfigChange(r){n=r},reset(){e=null,a={},n=!1}}}var Q=Or(),Fr=e=>{let a=(n,r)=>{let{extend:t=null,slots:o={},variants:i={},compoundVariants:b=[],compoundSlots:c=[],defaultVariants:C={}}=n,l={...Er,...r},S=t?.base?ie(t.base,n?.base):n?.base,y=t?.variants&&!R(t.variants)?ge(i,t.variants):i,T=t?.defaultVariants&&!R(t.defaultVariants)?{...t.defaultVariants,...C}:C;!R(l.twMergeConfig)&&!Rr(l.twMergeConfig,Q.cachedTwMergeConfig)&&(Q.didTwMergeConfigChange=!0,Q.cachedTwMergeConfig=l.twMergeConfig);let k=R(t?.slots),G=R(o)?{}:{base:ie(n?.base,k&&t?.base),...o},q=k?G:Ae({...t?.slots},R(G)?{base:n?.base}:G),P=R(t?.compoundVariants)?b:_e(t?.compoundVariants,b),z=V=>{if(R(y)&&R(o)&&k)return e(S,V?.class,V?.className)(l);if(P&&!Array.isArray(P))throw new TypeError(`The "compoundVariants" prop must be an array. Received: ${typeof P}`);if(c&&!Array.isArray(c))throw new TypeError(`The "compoundSlots" prop must be an array. Received: ${typeof c}`);let K=(u,p,m=[],w)=>{let f=m;if(typeof p=="string"){let g=ue(p).split(" ");for(let v=0;v<g.length;v++)f.push(`${u}:${g[v]}`)}else if(Array.isArray(p))for(let g=0;g<p.length;g++)f.push(`${u}:${p[g]}`);else if(typeof p=="object"&&typeof w=="string"&&w in p){let g=p[w];if(g&&typeof g=="string"){let v=ue(g).split(" "),N=[];for(let A=0;A<v.length;A++)N.push(`${u}:${v[A]}`);f[w]=f[w]?f[w].concat(N):N}else if(Array.isArray(g)&&g.length>0){let v=[];for(let N=0;N<g.length;N++)v.push(`${u}:${g[N]}`);f[w]=v}}return f},I=(u,p=y,m=null,w=null)=>{let f=p[u];if(!f||R(f))return null;let g=w?.[u]??V?.[u];if(g===null)return null;let v=Ne(g),N=Array.isArray(l.responsiveVariants)&&l.responsiveVariants.length>0||l.responsiveVariants===!0,A=T?.[u],M=[];if(typeof v=="object"&&N)for(let[_,Z]of Object.entries(v)){let te=f[Z];if(_==="initial"){A=Z;continue}Array.isArray(l.responsiveVariants)&&!l.responsiveVariants.includes(_)||(M=K(_,te,M,m))}let F=v!=null&&typeof v!="object"?v:Ne(A),B=f[F||"false"];return typeof M=="object"&&typeof m=="string"&&M[m]?Ae(M,B):M.length>0?(M.push(B),m==="base"?M.join(" "):M):B},h=()=>{if(!y)return null;let u=Object.keys(y),p=[];for(let m=0;m<u.length;m++){let w=I(u[m],y);w&&p.push(w)}return p},j=(u,p)=>{if(!y||typeof y!="object")return null;let m=[];for(let w in y){let f=I(w,y,u,p),g=u==="base"&&typeof f=="string"?f:f&&f[u];g&&m.push(g)}return m},O={};for(let u in V){let p=V[u];p!==void 0&&(O[u]=p)}let H=(u,p)=>{let m=typeof V?.[u]=="object"?{[u]:V[u]?.initial}:{};return{...T,...O,...m,...p}},L=(u=[],p)=>{let m=[],w=u.length;for(let f=0;f<w;f++){let{class:g,className:v,...N}=u[f],A=!0,M=H(null,p);for(let F in N){let B=N[F],_=M[F];if(Array.isArray(B)){if(!B.includes(_)){A=!1;break}}else{if((B==null||B===!1)&&(_==null||_===!1))continue;if(_!==B){A=!1;break}}}A&&(g&&m.push(g),v&&m.push(v))}return m},X=u=>{let p=L(P,u);if(!Array.isArray(p))return p;let m={},w=e;for(let f=0;f<p.length;f++){let g=p[f];if(typeof g=="string")m.base=w(m.base,g)(l);else if(typeof g=="object")for(let v in g)m[v]=w(m[v],g[v])(l)}return m},le=u=>{if(c.length<1)return null;let p={},m=H(null,u);for(let w=0;w<c.length;w++){let{slots:f=[],class:g,className:v,...N}=c[w];if(!R(N)){let A=!0;for(let M in N){let F=m[M],B=N[M];if(F===void 0||(Array.isArray(B)?!B.includes(F):B!==F)){A=!1;break}}if(!A)continue}for(let A=0;A<f.length;A++){let M=f[A];p[M]||(p[M]=[]),p[M].push([g,v])}}return p};if(!R(o)||!k){let u={};if(typeof q=="object"&&!R(q)){let p=e;for(let m in q)u[m]=w=>{let f=X(w),g=le(w);return p(q[m],j(m,w),f?f[m]:void 0,g?g[m]:void 0,w?.class,w?.className)(l)}}return u}return e(S,h(),L(P),V?.class,V?.className)(l)},E=()=>{if(!(!y||typeof y!="object"))return Object.keys(y)};return z.variantKeys=E(),z.extend=t,z.base=S,z.slots=q,z.variants=y,z.defaultVariants=T,z.compoundSlots=c,z.compoundVariants=P,z};return{tv:a,createTV:n=>(r,t)=>a(r,t?ge(n,t):n)}},Kr=e=>R(e)?We:Ue({...e,extend:{theme:e.theme,classGroups:e.classGroups,conflictingClassGroupModifiers:e.conflictingClassGroupModifiers,conflictingClassGroups:e.conflictingClassGroups,...e.extend}}),$r=(...e)=>a=>{let n=ie(e);return!n||!a.twMerge?n:((!Q.cachedTwMerge||Q.didTwMergeConfigChange)&&(Q.didTwMergeConfigChange=!1,Q.cachedTwMerge=Kr(Q.cachedTwMergeConfig)),Q.cachedTwMerge(n)||void 0)},{tv:Hr}=Fr($r),fe=(e,a)=>{var n,r,t;return Hr(e,{...a,twMerge:(n=void 0)!=null?n:!0,twMergeConfig:{theme:{...(r=void 0)==null?void 0:r.theme,...Se.theme},classGroups:{...(t=void 0)==null?void 0:t.classGroups,...Se.classGroups}}})},Me=fe({slots:{base:"relative inline-flex flex-col gap-2 items-center justify-center",wrapper:"relative flex",label:"text-foreground dark:text-foreground-dark font-regular",circle1:"absolute w-full h-full rounded-full",circle2:"absolute w-full h-full rounded-full",dots:"relative rounded-full mx-auto",spinnerBars:["absolute","animate-fade-out","rounded-full","w-[25%]","h-[8%]","left-[calc(37.5%)]","top-[calc(46%)]","spinner-bar-animation"]},variants:{size:{sm:{wrapper:"w-5 h-5",circle1:"border-2",circle2:"border-2",dots:"size-1",label:"text-small"},md:{wrapper:"w-8 h-8",circle1:"border-3",circle2:"border-3",dots:"size-1.5",label:"text-medium"},lg:{wrapper:"w-10 h-10",circle1:"border-3",circle2:"border-3",dots:"size-2",label:"text-large"}},color:{current:{circle1:"border-b-current",circle2:"border-b-current",dots:"bg-current",spinnerBars:"bg-current"},white:{circle1:"border-b-white",circle2:"border-b-white",dots:"bg-white",spinnerBars:"bg-white"},default:{circle1:"border-b-default",circle2:"border-b-default",dots:"bg-default",spinnerBars:"bg-default"},primary:{circle1:"border-b-primary",circle2:"border-b-primary",dots:"bg-primary",spinnerBars:"bg-primary"},secondary:{circle1:"border-b-secondary",circle2:"border-b-secondary",dots:"bg-secondary",spinnerBars:"bg-secondary"},success:{circle1:"border-b-success",circle2:"border-b-success",dots:"bg-success",spinnerBars:"bg-success"},warning:{circle1:"border-b-warning",circle2:"border-b-warning",dots:"bg-warning",spinnerBars:"bg-warning"},danger:{circle1:"border-b-danger",circle2:"border-b-danger",dots:"bg-danger",spinnerBars:"bg-danger"}},labelColor:{foreground:{label:"text-foreground"},primary:{label:"text-primary"},secondary:{label:"text-secondary"},success:{label:"text-success"},warning:{label:"text-warning"},danger:{label:"text-danger"}},variant:{default:{circle1:["animate-spinner-ease-spin","border-solid","border-t-transparent","border-l-transparent","border-r-transparent"],circle2:["opacity-75","animate-spinner-linear-spin","border-dotted","border-t-transparent","border-l-transparent","border-r-transparent"]},gradient:{circle1:["border-0","bg-gradient-to-b","from-transparent","via-transparent","to-primary","animate-spinner-linear-spin","[animation-duration:1s]","[-webkit-mask:radial-gradient(closest-side,rgba(0,0,0,0.0)calc(100%-3px),rgba(0,0,0,1)calc(100%-3px))]"],circle2:["hidden"]},wave:{wrapper:"translate-y-3/4",dots:["animate-sway","spinner-dot-animation"]},dots:{wrapper:"translate-y-2/4",dots:["animate-blink","spinner-dot-blink-animation"]},spinner:{},simple:{wrapper:"text-foreground h-5 w-5 animate-spin",circle1:"opacity-25",circle2:"opacity-75"}}},defaultVariants:{size:"md",color:"primary",labelColor:"foreground",variant:"default"},compoundVariants:[{variant:"gradient",color:"current",class:{circle1:"to-current"}},{variant:"gradient",color:"white",class:{circle1:"to-white"}},{variant:"gradient",color:"default",class:{circle1:"to-default"}},{variant:"gradient",color:"primary",class:{circle1:"to-primary"}},{variant:"gradient",color:"secondary",class:{circle1:"to-secondary"}},{variant:"gradient",color:"success",class:{circle1:"to-success"}},{variant:"gradient",color:"warning",class:{circle1:"to-warning"}},{variant:"gradient",color:"danger",class:{circle1:"to-danger"}},{variant:"wave",size:"sm",class:{wrapper:"w-5 h-5"}},{variant:"wave",size:"md",class:{wrapper:"w-8 h-8"}},{variant:"wave",size:"lg",class:{wrapper:"w-12 h-12"}},{variant:"dots",size:"sm",class:{wrapper:"w-5 h-5"}},{variant:"dots",size:"md",class:{wrapper:"w-8 h-8"}},{variant:"dots",size:"lg",class:{wrapper:"w-12 h-12"}},{variant:"simple",size:"sm",class:{wrapper:"w-5 h-5"}},{variant:"simple",size:"md",class:{wrapper:"w-8 h-8"}},{variant:"simple",size:"lg",class:{wrapper:"w-12 h-12"}},{variant:"simple",color:"current",class:{wrapper:"text-current"}},{variant:"simple",color:"white",class:{wrapper:"text-white"}},{variant:"simple",color:"default",class:{wrapper:"text-default"}},{variant:"simple",color:"primary",class:{wrapper:"text-primary"}},{variant:"simple",color:"secondary",class:{wrapper:"text-secondary"}},{variant:"simple",color:"success",class:{wrapper:"text-success"}},{variant:"simple",color:"warning",class:{wrapper:"text-warning"}},{variant:"simple",color:"danger",class:{wrapper:"text-danger"}}]}),Lr=["outline-solid outline-transparent","data-[focus-visible=true]:z-10","data-[focus-visible=true]:outline-2","data-[focus-visible=true]:outline-focus","data-[focus-visible=true]:outline-offset-2"],ee={default:["[&+.border-medium.border-default]:ms-[calc(var(--heroui-border-width-medium)*-1)]"],primary:["[&+.border-medium.border-primary]:ms-[calc(var(--heroui-border-width-medium)*-1)]"],secondary:["[&+.border-medium.border-secondary]:ms-[calc(var(--heroui-border-width-medium)*-1)]"],success:["[&+.border-medium.border-success]:ms-[calc(var(--heroui-border-width-medium)*-1)]"],warning:["[&+.border-medium.border-warning]:ms-[calc(var(--heroui-border-width-medium)*-1)]"],danger:["[&+.border-medium.border-danger]:ms-[calc(var(--heroui-border-width-medium)*-1)]"]},Wr=fe({base:["z-0","group","relative","inline-flex","items-center","justify-center","box-border","appearance-none","outline-solid outline-transparent","select-none","whitespace-nowrap","min-w-max","font-normal","subpixel-antialiased","overflow-hidden","tap-highlight-transparent","transform-gpu data-[pressed=true]:scale-[0.97]","cursor-pointer",...Lr],variants:{variant:{solid:"",bordered:"border-medium bg-transparent",light:"bg-transparent",flat:"",faded:"border-medium",shadow:"",ghost:"border-medium bg-transparent"},size:{sm:"px-3 min-w-16 h-8 text-tiny gap-2 rounded-small",md:"px-4 min-w-20 h-10 text-small gap-2 rounded-medium",lg:"px-6 min-w-24 h-12 text-medium gap-3 rounded-large"},color:{default:"",primary:"",secondary:"",success:"",warning:"",danger:""},radius:{none:"rounded-none",sm:"rounded-small",md:"rounded-medium",lg:"rounded-large",full:"rounded-full"},fullWidth:{true:"w-full"},isDisabled:{true:"opacity-disabled pointer-events-none"},isInGroup:{true:"[&:not(:first-child):not(:last-child)]:rounded-none"},isIconOnly:{true:"px-0 !gap-0",false:"[&>svg]:max-w-[theme(spacing.8)]"},disableAnimation:{true:"!transition-none data-[pressed=true]:scale-100",false:"transition-transform-colors-opacity motion-reduce:transition-none"}},defaultVariants:{size:"md",variant:"solid",color:"default",fullWidth:!1,isDisabled:!1,isInGroup:!1},compoundVariants:[{variant:"solid",color:"default",class:d.solid.default},{variant:"solid",color:"primary",class:d.solid.primary},{variant:"solid",color:"secondary",class:d.solid.secondary},{variant:"solid",color:"success",class:d.solid.success},{variant:"solid",color:"warning",class:d.solid.warning},{variant:"solid",color:"danger",class:d.solid.danger},{variant:"shadow",color:"default",class:d.shadow.default},{variant:"shadow",color:"primary",class:d.shadow.primary},{variant:"shadow",color:"secondary",class:d.shadow.secondary},{variant:"shadow",color:"success",class:d.shadow.success},{variant:"shadow",color:"warning",class:d.shadow.warning},{variant:"shadow",color:"danger",class:d.shadow.danger},{variant:"bordered",color:"default",class:d.bordered.default},{variant:"bordered",color:"primary",class:d.bordered.primary},{variant:"bordered",color:"secondary",class:d.bordered.secondary},{variant:"bordered",color:"success",class:d.bordered.success},{variant:"bordered",color:"warning",class:d.bordered.warning},{variant:"bordered",color:"danger",class:d.bordered.danger},{variant:"flat",color:"default",class:d.flat.default},{variant:"flat",color:"primary",class:d.flat.primary},{variant:"flat",color:"secondary",class:d.flat.secondary},{variant:"flat",color:"success",class:d.flat.success},{variant:"flat",color:"warning",class:d.flat.warning},{variant:"flat",color:"danger",class:d.flat.danger},{variant:"faded",color:"default",class:d.faded.default},{variant:"faded",color:"primary",class:d.faded.primary},{variant:"faded",color:"secondary",class:d.faded.secondary},{variant:"faded",color:"success",class:d.faded.success},{variant:"faded",color:"warning",class:d.faded.warning},{variant:"faded",color:"danger",class:d.faded.danger},{variant:"light",color:"default",class:[d.light.default,"data-[hover=true]:bg-default/40"]},{variant:"light",color:"primary",class:[d.light.primary,"data-[hover=true]:bg-primary/20"]},{variant:"light",color:"secondary",class:[d.light.secondary,"data-[hover=true]:bg-secondary/20"]},{variant:"light",color:"success",class:[d.light.success,"data-[hover=true]:bg-success/20"]},{variant:"light",color:"warning",class:[d.light.warning,"data-[hover=true]:bg-warning/20"]},{variant:"light",color:"danger",class:[d.light.danger,"data-[hover=true]:bg-danger/20"]},{variant:"ghost",color:"default",class:[d.ghost.default,"data-[hover=true]:!bg-default"]},{variant:"ghost",color:"primary",class:[d.ghost.primary,"data-[hover=true]:!bg-primary data-[hover=true]:!text-primary-foreground"]},{variant:"ghost",color:"secondary",class:[d.ghost.secondary,"data-[hover=true]:!bg-secondary data-[hover=true]:!text-secondary-foreground"]},{variant:"ghost",color:"success",class:[d.ghost.success,"data-[hover=true]:!bg-success data-[hover=true]:!text-success-foreground"]},{variant:"ghost",color:"warning",class:[d.ghost.warning,"data-[hover=true]:!bg-warning data-[hover=true]:!text-warning-foreground"]},{variant:"ghost",color:"danger",class:[d.ghost.danger,"data-[hover=true]:!bg-danger data-[hover=true]:!text-danger-foreground"]},{isInGroup:!0,class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,size:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,size:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,isRounded:!0,class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,radius:"none",class:"rounded-none first:rounded-s-none last:rounded-e-none"},{isInGroup:!0,radius:"sm",class:"rounded-none first:rounded-s-small last:rounded-e-small"},{isInGroup:!0,radius:"md",class:"rounded-none first:rounded-s-medium last:rounded-e-medium"},{isInGroup:!0,radius:"lg",class:"rounded-none first:rounded-s-large last:rounded-e-large"},{isInGroup:!0,radius:"full",class:"rounded-none first:rounded-s-full last:rounded-e-full"},{isInGroup:!0,variant:["ghost","bordered"],color:"default",className:ee.default},{isInGroup:!0,variant:["ghost","bordered"],color:"primary",className:ee.primary},{isInGroup:!0,variant:["ghost","bordered"],color:"secondary",className:ee.secondary},{isInGroup:!0,variant:["ghost","bordered"],color:"success",className:ee.success},{isInGroup:!0,variant:["ghost","bordered"],color:"warning",className:ee.warning},{isInGroup:!0,variant:["ghost","bordered"],color:"danger",className:ee.danger},{isIconOnly:!0,size:"sm",class:"min-w-8 w-8 h-8"},{isIconOnly:!0,size:"md",class:"min-w-10 w-10 h-10"},{isIconOnly:!0,size:"lg",class:"min-w-12 w-12 h-12"},{variant:["solid","faded","flat","bordered","shadow"],class:"data-[hover=true]:opacity-hover"}]});fe({base:"inline-flex items-center justify-center h-auto",variants:{fullWidth:{true:"w-full"}},defaultVariants:{fullWidth:!1}});var[wt,Ve]=ze({name:"ProviderContext",strict:!1});function Be(e){return x.forwardRef(e)}var Ur=(e,a,n=!0)=>{if(!a)return[e,{}];const r=a.reduce((t,o)=>o in e?{...t,[o]:e[o]}:t,{});return n?[Object.keys(e).filter(o=>!a.includes(o)).reduce((o,i)=>({...o,[i]:e[i]}),{}),r]:[e,r]},[vt,Qr]=ze({name:"ButtonGroupContext",strict:!1}),Jr=()=>Xe(()=>import("./index-htdWSW-k.js"),__vite__mapDeps([0,1,2,3])).then(e=>e.default),Ge=e=>{const{ripples:a=[],motionProps:n,color:r="currentColor",style:t,onClear:o}=e;return s.jsx(s.Fragment,{children:a.map(i=>{const b=Qe(.01*i.size,.2,i.size>100?.75:.5);return s.jsx(Je,{features:Jr,children:s.jsx(Ye,{mode:"popLayout",children:s.jsx(Ze.span,{animate:{transform:"scale(2)",opacity:0},className:"heroui-ripple",exit:{opacity:0},initial:{transform:"scale(0)",opacity:.35},style:{position:"absolute",backgroundColor:r,borderRadius:"100%",transformOrigin:"center",pointerEvents:"none",overflow:"hidden",inset:0,zIndex:0,top:i.y,left:i.x,width:`${i.size}px`,height:`${i.size}px`,...t},transition:{duration:b},onAnimationComplete:()=>{o(i.key)},...n})})},i.key)})})};Ge.displayName="HeroUI.Ripple";var Xr=Ge;function Yr(e={}){const[a,n]=x.useState([]),r=x.useCallback(o=>{const i=o.target,b=Math.max(i.clientWidth,i.clientHeight);n(c=>[...c,{key:De(c.length.toString()),size:b,x:o.x-b/2,y:o.y-b/2}])},[]),t=x.useCallback(o=>{n(i=>i.filter(b=>b.key!==o))},[]);return{ripples:a,onClear:t,onPress:r,...e}}function Zr(e){var a,n,r,t,o,i,b,c,C;const l=Qr(),S=Ve(),y=!!l,{ref:T,as:k,children:G,startContent:q,endContent:P,autoFocus:z,className:E,spinner:V,isLoading:K=!1,disableRipple:I=!1,fullWidth:h=(a=l?.fullWidth)!=null?a:!1,radius:j=l?.radius,size:O=(n=l?.size)!=null?n:"md",color:H=(r=l?.color)!=null?r:"default",variant:L=(t=l?.variant)!=null?t:"solid",disableAnimation:X=(i=(o=l?.disableAnimation)!=null?o:S?.disableAnimation)!=null?i:!1,isDisabled:le=(b=l?.isDisabled)!=null?b:!1,isIconOnly:u=(c=l?.isIconOnly)!=null?c:!1,spinnerPlacement:p="start",onPress:m,onClick:w,...f}=e,g=k||"button",v=typeof g=="string",N=er(T),A=(C=I||S?.disableRipple)!=null?C:X,{isFocusVisible:M,isFocused:F,focusProps:B}=rr({autoFocus:z}),_=le||K,Z=x.useMemo(()=>Wr({size:O,color:H,variant:L,radius:j,fullWidth:h,isDisabled:_,isInGroup:y,disableAnimation:X,isIconOnly:u,className:E}),[O,H,L,j,h,_,y,u,X,E]),{onPress:te,onClear:be,ripples:ye}=Yr(),Ee=x.useCallback(Y=>{A||_||X||N.current&&te(Y)},[A,_,X,N,te]),{buttonProps:he,isPressed:we}=tr({elementType:k,isDisabled:_,onPress:ar(m,Ee),onClick:w,...f},N),{isHovered:ve,hoverProps:xe}=nr({isDisabled:_}),Oe=x.useCallback((Y={})=>({"data-disabled":D(_),"data-focus":D(F),"data-pressed":D(we),"data-focus-visible":D(M),"data-hover":D(ve),"data-loading":D(K),...sr(he,B,xe,je(f,{enabled:v}),je(Y)),className:Z}),[K,_,F,we,v,M,ve,he,B,xe,f,Z]),ke=Y=>x.isValidElement(Y)?x.cloneElement(Y,{"aria-hidden":!0,focusable:!1}):null,Fe=ke(q),Ke=ke(P),$e=x.useMemo(()=>({sm:"sm",md:"sm",lg:"md"})[O],[O]),He=x.useCallback(()=>({ripples:ye,onClear:be}),[ye,be]);return{Component:g,children:G,domRef:N,spinner:V,styles:Z,startContent:Fe,endContent:Ke,isLoading:K,spinnerPlacement:p,spinnerSize:$e,disableRipple:A,getButtonProps:Oe,getRippleProps:He,isIconOnly:u}}function Dr(e){var a,n;const[r,t]=Ur(e,Me.variantKeys),o=Ve(),i=(n=(a=e?.variant)!=null?a:o?.spinnerVariant)!=null?n:"default",{children:b,className:c,classNames:C,label:l,...S}=r,y=x.useMemo(()=>Me({...t}),[or(t)]),T=ir(C?.base,c),k=l||b,G=x.useMemo(()=>k&&typeof k=="string"?k:S["aria-label"]?"":"Loading",[b,k,S["aria-label"]]),q=x.useCallback(()=>({"aria-label":G,className:y.base({class:T}),...S}),[G,y,T,S]);return{label:k,slots:y,classNames:C,variant:i,getSpinnerProps:q}}var qe=Be((e,a)=>{const{slots:n,classNames:r,label:t,variant:o,getSpinnerProps:i}=Dr({...e});return o==="wave"||o==="dots"?s.jsxs("div",{ref:a,...i(),children:[s.jsx("div",{className:n.wrapper({class:r?.wrapper}),children:[...new Array(3)].map((b,c)=>s.jsx("i",{className:n.dots({class:r?.dots}),style:{"--dot-index":c}},`dot-${c}`))}),t&&s.jsx("span",{className:n.label({class:r?.label}),children:t})]}):o==="simple"?s.jsxs("div",{ref:a,...i(),children:[s.jsxs("svg",{className:n.wrapper({class:r?.wrapper}),fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:n.circle1({class:r?.circle1}),cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:n.circle2({class:r?.circle2}),d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"})]}),t&&s.jsx("span",{className:n.label({class:r?.label}),children:t})]}):o==="spinner"?s.jsxs("div",{ref:a,...i(),children:[s.jsx("div",{className:n.wrapper({class:r?.wrapper}),children:[...new Array(12)].map((b,c)=>s.jsx("i",{className:n.spinnerBars({class:r?.spinnerBars}),style:{"--bar-index":c}},`star-${c}`))}),t&&s.jsx("span",{className:n.label({class:r?.label}),children:t})]}):s.jsxs("div",{ref:a,...i(),children:[s.jsxs("div",{className:n.wrapper({class:r?.wrapper}),children:[s.jsx("i",{className:n.circle1({class:r?.circle1})}),s.jsx("i",{className:n.circle2({class:r?.circle2})})]}),t&&s.jsx("span",{className:n.label({class:r?.label}),children:t})]})});qe.displayName="HeroUI.Spinner";var et=qe,Re=Be((e,a)=>{const{Component:n,domRef:r,children:t,spinnerSize:o,spinner:i=s.jsx(et,{color:"current",size:o}),spinnerPlacement:b,startContent:c,endContent:C,isLoading:l,disableRipple:S,getButtonProps:y,getRippleProps:T,isIconOnly:k}=Zr({...e,ref:a});return s.jsxs(n,{ref:r,...y(),children:[c,l&&b==="start"&&i,l&&k?null:t,l&&b==="end"&&i,C,!S&&s.jsx(Xr,{...T()})]})});Re.displayName="HeroUI.Button";var rt=Re;function tt(){const{connection:e}=pe(),a=me();return x.useMemo(()=>!a.publicKey||!a.signTransaction?null:new pr(e,a),[e,a])}var U=(e=>(e.Daily="daily",e.Weekly="weekly",e.Monthly="monthly",e.Quarterly="quarterly",e.SemiAnnually="semiAnnually",e.Annually="annually",e.Custom="custom",e))(U||{});function at(e,a){switch(e){case"daily":return{daily:{}};case"weekly":return{weekly:{}};case"monthly":return{monthly:{}};case"quarterly":return{quarterly:{}};case"semiAnnually":return{semiAnnually:{}};case"annually":return{annually:{}};case"custom":return{custom:{0:new re(a)}};default:throw new Error(`Unsupported interval: ${e}`)}}function nt(){const{connection:e}=pe(),a=me(),n=tt(),[r,t]=x.useState(!1),[o,i]=x.useState(null);return{createSubscription:async c=>{if(!a.publicKey||!a.signTransaction)throw new Error("Wallet not connected");if(!n)throw new Error("SDK not available");t(!0),i(null);try{const C=at(c.interval,c.custom_interval),l=Te(c.memo||"",64),S=c.startTime?new re(Math.floor(c.startTime.getTime()/1e3)):null,y=await n.createSubscriptionInstruction(c.token,c.recipient,c.gateway,c.amount,!1,null,C,l,S,c.approvalAmount,c.executeImmediately??!0),{blockhash:T,lastValidBlockHeight:k}=await e.getLatestBlockhash(),G=new lr({payerKey:a.publicKey,recentBlockhash:T,instructions:y}).compileToV0Message(),q=new cr(G),P=await a.signTransaction(q),z=await e.sendRawTransaction(P.serialize());return await e.confirmTransaction({signature:z,blockhash:T,lastValidBlockHeight:k}),{txId:z,instructions:y}}catch(C){const l=C instanceof Error?C.message:"Unknown error occurred";throw i(l),new Error(l)}finally{t(!1)}},loading:r,error:o}}function st({amount:e,token:a,recipient:n,gateway:r,interval:t,custom_interval:o,maxRenewals:i,memo:b,startTime:c,approvalAmount:C,executeImmediately:l=!0,label:S="Subscribe",className:y="",disabled:T=!1,radius:k="none",size:G="lg",onSuccess:q,onError:P}){const{createSubscription:z,loading:E}=nt(),V=async()=>{try{const I=await z({amount:e,token:a,recipient:n,gateway:r,interval:t,custom_interval:o,maxRenewals:i,memo:b,startTime:c,approvalAmount:C,executeImmediately:l});q?.(I)}catch(I){P?.(I instanceof Error?I:new Error("Unknown error"))}},K=T||E;return s.jsx("div",{className:"flex flex-col items-center gap-2",children:s.jsxs(rt,{onClick:V,disabled:K,className:`inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-md border border-transparent shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed ${y}`,radius:k,size:G,children:[E&&s.jsx(kr,{className:"w-4 h-4 mr-2 animate-spin"}),E?"Creating Subscription...":S]})})}const ot={'code[class*="language-"]':{color:"#393A34",fontFamily:'"Consolas", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",fontSize:".9em",lineHeight:"1.2em",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{color:"#393A34",fontFamily:'"Consolas", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",fontSize:".9em",lineHeight:"1.2em",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:".5em 0",overflow:"auto",border:"1px solid #dddddd",backgroundColor:"white"},'pre > code[class*="language-"]':{fontSize:"1em"},'pre[class*="language-"]::-moz-selection':{background:"#b3d4fc"},'pre[class*="language-"] ::-moz-selection':{background:"#b3d4fc"},'code[class*="language-"]::-moz-selection':{background:"#b3d4fc"},'code[class*="language-"] ::-moz-selection':{background:"#b3d4fc"},'pre[class*="language-"]::selection':{background:"#b3d4fc"},'pre[class*="language-"] ::selection':{background:"#b3d4fc"},'code[class*="language-"]::selection':{background:"#b3d4fc"},'code[class*="language-"] ::selection':{background:"#b3d4fc"},':not(pre) > code[class*="language-"]':{padding:".2em",paddingTop:"1px",paddingBottom:"1px",background:"#f8f8f8",border:"1px solid #dddddd"},comment:{color:"#999988",fontStyle:"italic"},prolog:{color:"#999988",fontStyle:"italic"},doctype:{color:"#999988",fontStyle:"italic"},cdata:{color:"#999988",fontStyle:"italic"},namespace:{Opacity:".7"},string:{color:"#e3116c"},"attr-value":{color:"#e3116c"},punctuation:{color:"#393A34"},operator:{color:"#393A34"},entity:{color:"#36acaa"},url:{color:"#36acaa"},symbol:{color:"#36acaa"},number:{color:"#36acaa"},boolean:{color:"#36acaa"},variable:{color:"#36acaa"},constant:{color:"#36acaa"},property:{color:"#36acaa"},regex:{color:"#36acaa"},inserted:{color:"#36acaa"},atrule:{color:"#00a4db"},keyword:{color:"#00a4db"},"attr-name":{color:"#00a4db"},".language-autohotkey .token.selector":{color:"#00a4db"},function:{color:"#9a050f",fontWeight:"bold"},deleted:{color:"#9a050f"},".language-autohotkey .token.tag":{color:"#9a050f"},tag:{color:"#00009f"},selector:{color:"#00009f"},".language-autohotkey .token.keyword":{color:"#00009f"},important:{fontWeight:"bold"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"}};function it(e){return e.charAt(0).toUpperCase()+e.slice(1)}function lt(e,a,n){const r=parseFloat(e),t=isNaN(r)||r<=0?10:r,o=n(a);return new re(t*Math.pow(10,o))}function de(e,a){try{return new J(e),e}catch{return a}}function ct(e,a){const n=de(e.tokenMint,"So11111111111111111111111111111111111111112"),r=de(e.recipient,J.default.toString()),t=de(e.gateway,"AWqqH2c5zKhBUKrme1D28uQooS54HvAeS1ix8nfQ4bEt"),o=lt(e.amount,n,a),i=e.memo||"",b=e.frequency||"weekly",c=parseInt(e.intervalSeconds)||604800;return{tokenMint:n,recipient:r,gateway:t,amount:o,memo:i,frequency:b,intervalSeconds:c}}function dt(e,a){switch(e){case"daily":return{interval:U.Daily,customInterval:0};case"weekly":return{interval:U.Weekly,customInterval:0};case"monthly":return{interval:U.Monthly,customInterval:0};case"quarterly":return{interval:U.Quarterly,customInterval:0};case"semiAnnually":return{interval:U.SemiAnnually,customInterval:0};case"annually":return{interval:U.Annually,customInterval:0};case"custom":return{interval:U.Custom,customInterval:a};default:return{interval:U.Weekly,customInterval:0}}}function ut({formData:e}){const[a,n]=x.useState(null),r=oe(Pe),t=ct(e,r),{interval:o,customInterval:i}=dt(t.frequency,t.intervalSeconds),b=`import { SubscriptionButton, PaymentInterval } from '@tributary-so/sdk-react'
import { PaymentFrequency } from '@tributary-so/sdk'
import { PublicKey } from '@solana/web3.js'
import { BN } from '@coral-xyz/anchor'

<SubscriptionButton
  amount={new BN(${t.amount.toString()})}
  token={new PublicKey('${t.tokenMint}')}
  recipient={new PublicKey('${t.recipient}')}
  gateway={new PublicKey('${t.gateway}')}
  maxRenewals={12}
  interval={PaymentInterval.${it(e.frequency)}}
  ${e.frequency=="custom"?`custom_interval={${t.intervalSeconds}}\r
  `:""}memo="${t.memo}"
  label="Subscribe for $${parseFloat(e.amount)||10}/${t.frequency}"
  executeImmediately={true}
  className="bg-blue-600 hover:bg-blue-700 text-white"
  onSuccess={handleSuccess}
  onError={handleError}
/>`,c=(C,l)=>{navigator.clipboard.writeText(C),n(l),setTimeout(()=>n(null),2e3)};return s.jsxs("div",{className:"max-w-[500px] space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Copy/Paste the react code below to get your own custom button!"}),s.jsx(st,{amount:t.amount,token:new J(t.tokenMint),recipient:new J(t.recipient),gateway:new J(t.gateway),maxRenewals:12,interval:o,custom_interval:i,memo:t.memo,label:`Subscribe for ${parseFloat(e.amount)||10}/${t.frequency}`,executeImmediately:!0,className:"bg-blue-600 hover:bg-blue-700 text-white",radius:"md",size:"md"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center px-3 py-2 bg-gray-50 border border-gray-200 rounded-t",children:[s.jsx("span",{className:"text-xs font-semibold uppercase text-gray-600",children:"React Code"}),s.jsx("button",{onClick:()=>c(b,"js"),className:"flex items-center gap-1 px-2 py-1 text-xs border rounded hover:bg-gray-200 transition-colors",style:{borderColor:"var(--color-primary)"},children:a==="js"?s.jsxs(s.Fragment,{children:[s.jsx(mr,{className:"w-3 h-3"}),"Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx(fr,{className:"w-3 h-3"}),"Copy"]})})]}),s.jsx(vr,{language:"typescript",style:ot,customStyle:{margin:0,borderRadius:"0 0 0.375rem 0.375rem",fontSize:"0.75rem",lineHeight:"1rem"},codeTagProps:{style:{fontSize:"inherit",lineHeight:"inherit"}},children:b})]})]})}function xt(){const[e,a]=x.useState({tokenMint:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",recipient:"",gateway:"",amount:"",intervalSeconds:"2592000",memo:"",frequency:"monthly",autoRenew:!0,approvalAmount:""}),n=r=>{a(r)};return s.jsx("div",{style:{width:"100%",backgroundColor:"#fff",fontFamily:"var(--font-primary)",flex:1},children:s.jsxs("div",{children:[s.jsx("div",{className:"mb-6",children:s.jsx("h2",{className:"text-2xl font-bold mb-2",style:{fontFamily:"var(--font-secondary)"},children:"Payment Policy Setup"})}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 max-w-6xl mx-auto",children:[s.jsx("div",{className:"w-full md:w-1/2",children:s.jsx(jr,{formData:e,onFormDataChange:n})}),s.jsx("div",{className:"relative w-full md:w-1/2",children:s.jsx(ut,{formData:e})})]})]})})}export{xt as default};
